---
category: [系统]
tags: [编程, 電子]
title: Kotlin
date: 2025-07-14 1:00:00
---

<style>
  table {
    width: 100%
    }
  td {
    vertical-align: center;
    text-align: center;
  }
  td.left {
    vertical-align: center;
    text-align: left;
  }  
  table.inputT{
    margin: 10px;
    width: auto;
    margin-left: auto;
    margin-right: auto;
    border: none;
  }
  input{
    text-align: center;
    padding: 0px 10px;
  }
  iframe{
    width: 100%;
    display: block;
    border-style:none;
  }
</style>

# Kotlin

**Kotlin** 是一种运行在 Java 虚拟机 (JVM) 上的静态类型编程语言，也可以编译成 JavaScript。 它被设计成可以与 Java 代码无缝协作，并且提供了更简洁、更安全的语法。

## 变量
 
而 **Kotlin** 中定义一个变量，只允许在变量前声明两种关键字： **val** 和 **var**。
 - val（value 的简写）用来声明一个不可变的变量，这种变量在初始赋值之后就再也不能重新赋值，对应 Java 中的 <font color="#FF1000">final</font> 变量。
 - var（variable 的简写）用来声明一个可变的变量，这种变量在初始赋值之后仍然可以再被重新赋值，对应 Java 中的<font color="#FF1000">非 final</font> 变量。

小诀窍，永远优先使用 val 来声明一个变量，而当 val 没有办法满足你的需求时再使用 var。这样设计出来的程序会更加健壮，也更加符合高质量的编码规范。声明变量方法如下：

```kotlin
# 隐式声明 (不设定数据类型)
val a = 10

# 显式声明 (设定数据类型)
val a: Int = 10
```

|Java基本数据类型|Kotlin对象数据类型|数据类型说明|
|:---:|:---:|:---:|
|int|Int|整型|
|long|Long|长整型|
|short|Short|短整型|
|float|Float|单精度浮点型|
|double|Double|双精度浮点型|
|boolean|Boolean|布尔型|
|char|Char|字符型|
|byte|Byte|字节型|

## 函数

fun（function 的简写）是定义函数的关键字，无论定义什么函数，都一定要使用 **fun** 来声明。函数名后面紧跟着一对括号，里面可以声明该函数接收什么参数，参数的数量可以是任意个数。最后函数可返回一个类型的数据。例子如下：


```kotlin
fun largerNumber(num1: Int, num2: Int): Int 
{    
   return max(num1, num2)
}
```

### Kotlin 语法糖

当一个函数中只有一行代码时，Kotlin 允许不必编写函数体，可以直接将唯一的一行代码写在函数定义的尾部，中间用等号连接即可。使用这种语法，return 关键字也可以省略了，等号足以表达返回值的意思。

```kotlin
fun largerNumber(num1: Int, num2: Int): Int = max(num1, num2)
```

## 逻辑控制

主要分为 **3** 种：顺序语句、条件语句和循环语句。

### 条件语句

**if** - if 语句和 Java 中的 if 语句几乎没有任何区别。

**when** - 远比 Java 中的 switch 语句强大。格式是：匹配值 -> { 执行逻辑 }，示例如下：

```kotlin
fun getScore(name: String) = when (name) 
{     
    "Tom" -> 86
    "Jim" -> 77
    "Jack" -> 95
    "Lily" -> 100
    else -> 0 
}
```

除了精确匹配之外，**when** 语句还允许进行类型匹配。

```kotlin
fun checkNumber(num: Number) 
{   
  when (num) {         
    is Int -> println("number is Int")               
    is Double -> println("number is Double")         
    else -> println("number not support")     
  } 
}
```

when 语句还有一种不带参数的用法，有些场景必须使用这种写法才能实现。举个例子：


```kotlin
fun getScore(name: String) = when {     
  name.startsWith("Tom") -> 86
  name == "Jim" -> 77     
  name == "Jack" -> 95     
  name == "Lily" -> 100     
  else -> 0 
}
```
