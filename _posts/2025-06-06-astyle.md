---
category: [軟件]
tags: [系統, Linux]
title: 格式化代码
date: 2025-06-06 1:00:00
---

<style>
  table {
    width: 100%
    }
  td {
    vertical-align: center;
    text-align: center;
  }
  table.inputT{
    margin: 10px;
    width: auto;
    margin-left: auto;
    margin-right: auto;
    border: none;
  }
  input{
    text-align: center;
    padding: 0px 10px;
  }
  iframe{
    width: 100%;
    display: block;
    border-style:none;
  }
</style>


# AStyle 格式化代码


**AStyle** 是一款强大的代码格式化工具，主要用于 C、C++、C++/CLI、Objective-C、C# 和 Java 等编程语言。

[网上代码下载](https://gitlab.com/saalen/astyle)

在网上下载代码後，可在 Android 系统下的 termux 软件上安装。但在安装 AStyle 前要安装以下软件，用以编译 AStyle 源代码。

```sh
pkg install clang
pkg install make
cd ./AStyle/build/gcc
make
```

在编译后，可在 bin 目录下找到 astyle 执行档案。并将这档案複製至 **/data/data/com.termux/files/usr/bin**。


## 基本命令行格式：

```sh
astyle [参数] [文件路径]
```

## 選項格式

 - 長選項（以“--”開頭）
    - 必須一次寫入一個。
 - 短選項（以“-”開頭）
    - 可以附加在一起。因此，-bps4 與 -b -p -s4 相同。

### 风格

|長指令名|短指令名|说明|
|:---:|:---:|:---|
|--style=allman/<br>--style=bsd|-A1| allman Allman 樣式格式/縮排。斷開的括號|
|--style=java|-A2 |java Java 樣式格式/縮排。附加的括號| |--style=k&r/--style=k/r |-A3| k&r Kernighan & Ritchie 樣式格式/縮排。 Linux 括號|
|--style=stroustrup |-A4 |stroustrup Stroustrup 樣式格式/縮排。 Stroustrup 括號|
|--style=whitesmith |-A5| whitesmith Whitesmith 樣式格式/縮排。斷開的縮排括號。縮排的類塊和開關塊|
|--style=banner |-A6 |Banner 樣式格式/縮排。附加的縮排括號。縮排的類塊和開關塊|
|--style=gnu |-A7 |gnu GNU 樣式格式/縮排。括號斷開，程式碼區塊縮進，縮排 2 個空格|
|--style=linux |-A8| linux風格 GNU 風格的格式/縮排。 Linux 括號，縮排 8 個空|


### 製表符和括號選項

|長指令名|短指令名|说明|
|:---:|:---:|:---|
|--indent=spaces=# | -s#|默认行缩进为4个空格,可以将#替换为缩进量|
|--indent=tab / --indent=tab=# |-t / -t#|行缩进用tab,默认tab长度与4个空格相等|
|--indent=force-tab=# |-T#|优先采用空格缩进|
|--brackets=break |-b|大括号与前一块隔开为两行|
|--brackets=attach|-a|大括号前一个与上一行在同一行|
|--brackets=linux |-l|定义块 和 函数块中的大括号都被处理|
|--brackets=stroustrup |-u|只处理函数中的大括号|


注意： # 代表数字，为长度或者个数。


## 指令参数详解

|長指令名|短指令名|参数|说明|
|:---:|:---:|:---:|:---|
|--style=|-A[数字]||ANSI标准的文件格式，对”{”、”}”另启一行|
|--indent=spaces=|-s|数字|缩进采用4个空格|
|--add-brackets|-j||对”if”、”for”、“while”单行的语句增加括号|
|--convert-tabs|-c||强制转换TAB为空格|
|--indent-preprocessor|||将preprocessor(#define)等这类预定义的语句，如果有多行时前面填充对齐(是对单语句多行进行填充)|
|--align-pointer=type|||*、&这类字符靠近类型|
|--align-pointer=name|||*、&这类字符靠近变量名字|
|--pad-oper|-p||在操作符号 (+ - * /) 两边增加空格字符|
|--pad--header|-H||在关键字”if”、”for”、”while”等后面增加空格|
|--indent-switches|-S||switch case的代码也按照标准缩进方式缩进|
|--indent-col1-comments|-Y||如果函数开始后面(“{”后面)第一行是注释，也进行缩进|
|--indent=tab|||显示说明使用Tab|
||-b	||语句块之前加上空格|
|--indent=tab=|-t|数字|每个Tab为4个space|
|--suffix=none|-n||不生成备份。默认生成 .orig 文件|
|--recursive|-R	||目录递归|
|--unpad-paren|-U||删除括号内外额外空格|
|--max-continuation-indent=|-M|数字|设置最大缩进续行为120空格|
|--break-closing-braces|-y||右页眉大括号始终与其他样式断开|
|--break-one-line-headers|-xb||将一行代码 if 分成两行|
|--exclude=||####|指定要從處理中排除的文件或子目錄####|
|--max-code-length=|-xC|長度|代碼行最大長度|





-w	用“/”对齐多行参数
-f	不相关的代码之间加空行
-x	删除相关语句之是的空行. 如：if, else语句间的空行
-U	移除括号两边不必要的空格
-J	为单行语句加上{}
-k3	指针及引用（*， &）符号，挨着变量名