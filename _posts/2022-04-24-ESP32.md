---
category: [編程]
tags: [編程]
title: ESP 開發的軟件框架
date: 2022-04-23 06:00:00
---

# ESP32-C3

ESP32-C3 搭載 RISC-V 32 位單核處理器，工作頻率高達 160 MHz，模組支持 Wi-Fi。內置 400 KB SRAM，384 KB ROM，8KB RTC SRAM，內置 4MB Flash。

# 安裝 ESP-IDF

基本上所有類型的 ESP32 開發板也能用這個開發工具編譯。安裝方法如下。

[ESP-IDF 互聯網資源](https://github.com/espressif/esp-idf)

```shell
sudo apt-get install git wget flex bison gperf python3 python3-pip python3-setuptools cmake ninja-build ccache libffi-dev libssl-dev dfu-util libusb-1.0-0
python3 --version
git clone --recursive https://github.com/espressif/esp-idf.git
cd ~/esp/esp-idf
./install.sh
source ./export.sh

```
# ESP32 程式模板

因 ESP32 開發版是基於模板程式，再由網上下載相關開發版的程式部份，步驟及下載部分詳列如下。

[ESP32 程式模板下載](https://github.com/espressif/esp-idf-template)

```shell
cd ~/esp
git clone --recursive https://github.com/espressif/esp-idf-template
mv esp-idf-template esp32c3

```
注意：<font color="#FF1000">esp32c3</font> 需要根據的情況進行更改


# 選擇安裝並編譯模板設置

如選擇安裝 ESP32-C3，則在 set-target 為 esp32c3 如下。
 - 第 1 行 轉到主程式目錄
 - 第 2 行 將目錄設置為 shell 參數
 - 第 3 行 到 idf 的安裝目䤸
 - 前 4 行 更新 idf 的相關部份連接
 - 第 5 行 使用shell參數返回主程式目錄
 - 第 6 行 顯示 idf 版本，以確認 idf 安裝正常。
 - 第 7 行 下載相關開發版的指令
 - 第 8 行 編譯及燒錄程序到開發版
 - 第 9 行 監管執行程序的顯示資訊

```shell
cd ~/主程式目錄
curdir=$(pwd)
cd ~/esp/esp-idf
source ./export.sh
cd ${curdir}
idf.py --version
idf.py set-target esp32c3
idf.py menuconfig
idf.py flash
idf.py monitor

```

如需要微調更新設定，可以執行以下命令. **idf.py menuconfig** 。 例如:添加 WiFi 連接 SSID 和密碼。

# 外圍連接安裝問題

 - 如果無法訪問 **ttyACM0** 以下命令將授予訪問權限

```shell
sudo adduser $USER dialout
sudo chmod a+rw /dev/ttyACM0

```

# 編譯並安裝全過程

 - 如果發現任何錯誤，可以執行以下命令. **idf.py menuconfig** 用於在 ESP32-C3 開發板上設置設置的命令

```shell
cd ~/主程式目錄
curdir=$(pwd)
rm -rf build
idf.py fullclean
rm -rf `find -name CMakeCache.txt`
cd ~/esp/esp-idf
./install.sh
source ./export.sh
cd ${curdir}
idf.py --version
idf.py set-target esp32c3
idf.py menuconfig   # 根據要求使用
idf.py build
idf.py flash
idf.py monitor

```
注意：<font color="#FF1000">esp32c3</font> 需要根據的情況進行更改


# Sample code

```c


```
