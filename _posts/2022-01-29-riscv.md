---
category: [編程]
tags: [編程]
title: RISCV 編譯方法
date: 2022-01-29 18:00:00
---

# RISCV 編譯方法

[RISCV 互聯網資源](https://github.com/riscv-collab/riscv-gnu-toolchain)

## 安裝 GNU GCC 工具鏈

安裝工具鏈的完整指南可以在 RISC-V GNU 工具鏈存儲庫中找到。

下載並安裝先決條件：

```shell
$ sudo apt-get install autoconf automake autotools-dev curl python3 libmpc-dev libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo gperf libtool patchutils bc zlib1g-dev libexpat-dev

```

克隆存儲庫：

```shell
$ git clone https://github.com/riscv-collab/riscv-gnu-toolchain
```

默認構建為 RV64GC (64 位):

```shell
$ cd riscv-gnu-toolchain
./configure --prefix=/opt/riscv
```

如使用 RV32 (32 位) 架構的多功能工具庫支持配置構建：

```shell
$ cd riscv-gnu-toolchain
$ ./configure --prefix=/opt/riscv --with-multilib-generator="rv32i-ilp32--;rv32im-ilp32-rv32ima-;rv32imc-ilp32-rv32imac-;rv32imafc-ilp32f--"
```

最後開始編譯，注意編譯的時間很長！

```shell
$ sudo make
```

打開 ~/.bashrc 將構建工具添加到路徑為變量如下：

```shell
export PATH="$PATH:/opt/riscv/bin"
```

重新加載終端：

```shell
$ source ~/.bashrc
```

所有可執行文件都存儲在目錄下 /opt/riscv/bin 。 可以通過以下方式列出。

```shell
$ ls /opt/riscv/bin/riscv64-unknown-*
```


