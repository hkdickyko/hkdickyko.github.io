---
category: [編程]
tags: [IoT, 電子]
title: Godot 介绍
date: 2025-10-25 01:00:00
---

<style>
  table {
    width: 100%
    }
  td {
    vertical-align: center;
    text-align: center;
  }
  table.inputT{
    margin: 10px;
    width: auto;
    margin-left: auto;
    margin-right: auto;
    border: none;
  }
  input{
    text-align: center;
    padding: 0px 10px;
  }
  iframe{
    width: 100%;
    display: block;
    border-style:none;
  }
</style>

# Godot 介绍

Godot 是一款由社群驱动、自由且开源的 2D 与 3D 游戏引擎。跨平台的游戏引擎，能以统一介面制作 2D 与 3D 游戏。它提供完整的常用工具组，让使用者能专注在做游戏，而不必重造轮子。游戏可一键汇出至多种平台，包含主流桌面平台（Linux、macOS、Windows）、行动平台（Android、iOS），以及网页平台与游戏主机。

Godot 完全自由且开源，采用宽松的 **MIT** 授权。没有附带条款、没有权利金，没有任何额外要求。即便到引擎的最后一行程式码为止，使用者的游戏都完全属于使用者。 

# 关键概念概述

游戏是由节点组成的树状结构，可以将这些节点组合成场景。然后，将这些节点连接起来，以便它们能够通过信号进行通信。这里学习这四个概念。

## 节点 (Nodes)

一个场景由一个或多个节点组成。节点是游戏中最小的构建块，可以将其排列成树状结构。Godot 提供了一个丰富的基础节点类型库，可以组合和扩展这些类型来构建更强大的节点。无论是 2D、3D 还是用户界面，都可以使用这些节点完成大多数操作。

注意:**节点** 和 **场景** 在编辑器中的外观是相同的。当将节点树保存为场景时，它会显示为单个节点，其内部结构在编辑器中隐藏。

节点是游戏的基本组成部分。种类繁多，可以显示图像、播放声音、代表摄像头等等。

### 所有节点都具有以下特征：

 - 名称
 - 可编辑属性
 - 可接收回调以更新每一帧
 - 可使用新的属性和函数扩展它们
 - 可作为子节点添加到另一个节点

最后一个特征非常重要。节点组合在一起形成一棵树，这是一个强大的项目组织功能。由于不同的节点具有不同的功能，因此将它们组合起来可以产生更复杂的行为。

例如:可以使用 CharacterBody2D 节点、Sprite2D 节点、Camera2D 节点和 CollisionShape2D 节点构建一个摄像机跟随的可操作角色。

## 场景 (Scenes)

游戏分解为可重复使用的场景。场景可以是角色、武器、用户界面菜单、房屋、整个关卡，或任何能想到的内容。Godot 的场景非常灵活；它们既可以充当预制件，也可以充当其他游戏引擎中的场景。

当将节点组织成树状结构时，称之为场景。保存后，场景在编辑器中就像新的节点类型一样工作，可以将它们添加为现有节点的子节点。在这种情况下，场景实例将显示为单个节点，其内部结构隐藏。

场景允许随意构建游戏代码。可以组合节点来创建自定义和复杂的节点类型。

例如:可以奔跑和跳跃的游戏角色、生命条、可以互动的宝箱等等。

Godot 编辑器本质上是一个场景编辑器。它拥有丰富的工具，可用于编辑 2D 和 3D 场景以及用户界面。Godot 项目可以根据需求包含任意数量的场景。引擎只需要一个场景作为应用程序的主场景。当运行游戏时，Godot 会首先加载主场景。除了像节点一样工作之外，

### 场景具有以下特点

 - 它们始终有一个根节点，例如示例中的“玩家”。
 - 可以将它们保存到本地驱动器，稍后再加载。
 - 可以根据需要创建任意数量的场景实例。可以在游戏中创建五个或十个角色，这些角色都是由角色场景创建的。

### 创建一个场景

在空场景中，左侧的“场景”停靠栏显示了几个可快速添加根节点的选项。

 - 2D 场景会添加一个 Node2D 节点
 - 3D 场景会添加一个 Node3D 节点
 - 用户界面会添加一个 Control 节点
  
这些预设是为了方便使用，并非强制要求。**其他节点** (Other Node) 允许选择任意节点作为根节点。在空场景中，**其他节点** 相当于按下 **场景** 停靠栏左上角的 **添加子节点** (Add Child Node) 按钮，这通常会将新节点添加为当前选定节点的子节点。

### 文件路径

编辑器中的文件对话框，**场景另存为** 对话框仅允许保存项目内部的文件。窗口顶部的 res:// 路径代表项目的根目录，即 **资源路径**。

## 场景树 (Scene tree)

所有游戏场景都汇集在场景树中，也就是一棵由场景组成的树。由于场景是节点树，因此场景树也是节点树。但用场景来理解游戏更容易，因为它们可以代表角色、武器、门或用户界面。

## 信号 (Signals)

当某个事件发生时，节点会发出信号。此功能允许节点之间无需在代码中硬连接即可进行通信。它提供了构建场景的极大灵活性。

例如按钮按下时会发出信号。可以将一段代码连接到此信号，该代码将响应此事件运行。其他内置信号可以告诉两个物体何时发生碰撞、角色或怪物何时进入指定区域等等。还可以根据游戏定制新的信号。

信号是节点在特定事件发生时（例如按下按钮）发出的消息。其他节点可以连接到该信号，并在事件发生时调用相应的函数。信号是 Godot 内置的一种委托机制，允许一个游戏对象对另一个游戏对象的变化做出反应，而无需彼此引用。使用信号可以降低耦合度并保持代码的灵活性。

例如:屏幕上可能有一个生命条，用于表示玩家的生命值。当玩家受到伤害或使用治疗药水时，希望生命条反映出这种变化。为此，在 Godot 中可以使用信号。与方法（Callable）一样，自 Godot 4.0 起，信号是一等公民类型。这意味着您可以将它们直接作为方法参数传递，而无需将它们作为字符串传递，从而实现更好的自动补全功能，并且更不容易出错。


## 总结

**节点**、**场景**、**场景树** 和 **信号** 是 Godot 中四个核心概念，必须使用它进行操作。

节点是游戏最小的构建块。可以将它们组合起来创建场景，然后将它们组合并嵌套到场景树中。最后使用信号使节点对其他节点或不同场景树分支中的事件做出反应。

在完成这个简短的讲解后，可能会有很多疑问。请耐心阅读以下解释。


# 设计模式

Godot 中的设计模式是指使用通用设计模式来构建游戏和应用程序，常见的模式如下：


|设计模式|使用解析|
|:---:|:---:|
|有限状态机（Finite State Machine）|用于管理复杂对象的不同状态和它们之间的转换|
|实体组件系统（Entity Component System）|一种架构模式，将游戏对象（实体）分解为数据（组件）和行为（系统）|
|单例模式（Singleton）|确保一个类只有一个实例，并提供全局访问点|
|代理模式（Proxy）| 提供对象的替代品，可以控制对原始对象的访问||外观模式（Facade）|提供一个简化的接口，用于访问一个更复杂的子系统|
|适配器模式（Adapter）|允许不兼容的类协同工作|
 
这些模式提供了在 Godot 中组织代码、管理游戏逻辑和提高可维护性的方法。 



## 物件导向 OOP

Godot 采用传统的物件导向 OOP，也就是 **节点** (Node) 包含 **数据** (Data) 以及 **逻辑** (Logics) 两部分。因此节点包含 **空间转换** (Transform) 物件。包含了如下類別資訊：

 - 屬性
 - 方法
 - 常數
 - 訊號

# Blender 导入 Godot 4

Godot 与 Blender 深度集成，允许将 Blender 文件直接导入 Godot 4，而无需手动导出为 .gltf 等中间格式。此工作流程可实现无缝更新，Blender 中保存的更改会自动反映在 Godot 中。要设置此连接，但必须在 Godot 的项目设置中启用 Blender 导入，并在编辑器设置中提供 Blender 安装的路径。

但也可将 glTF 模型导入 Godot。 这是一个简单的过程。Godot 原生支持 glTF（.gltf 和 .glb 格式），与 OBJ 或 DAE 等旧格式相比，它因其效率和功能集而受到普遍推荐。

## Godot 网上资讯

 - [基本节点製作](https://youtu.be/q7wlSvt0JIc?si=CXnx7TATIqMn5KaA)
 - [基本脚本製作](https://youtu.be/8CrFk3tjsSY?si=-yVaZeaxzA_EP6ZQ)
 - [基本信号处理方法](https://youtu.be/nBCcnPAMvBg?si=S6DcHR7zDnOLLiaY)
 - [自定信号处理](https://youtu.be/MtKC5y1wK9Y?si=06NaJ2qlUQvxPOey)
 - [glTF 模型导入](https://youtu.be/7UhVC9oUlZ4?si=2EJChdQnfwRFct_8)
 - [有物体关节活动资讯的模型导入 Godot](https://youtu.be/9ANa_V1mc9E?si=z-I3h1asLJOzkDQG)
 - [脚本 GDScript 详解](https://youtu.be/e1zJS31tr88?si=B5qOItAHcqQf4yhD)
 - [3D 动画树製作](https://youtu.be/n872lbC-_BU?si=ndQJ_Gf_Mk-LgkSO)