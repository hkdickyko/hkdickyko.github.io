---
category: [編程]
tags: [IoT, 電子]
title: Lambda (匿名函数)
date: 2025-09-20 00:00:01
---

<style>
  table {
    width: 100%
    }
  td {
    vertical-align: center;
    text-align: center;
  }
  table.inputT{
    margin: 10px;
    width: auto;
    margin-left: auto;
    margin-right: auto;
    border: none;
  }
  input{
    text-align: center;
    padding: 0px 10px;
  }
  iframe{
    width: 100%;
    display: block;
    border-style:none;
  }
</style>

# Lambda (匿名函数)

 - lambda 匿名函式具有下列几种特性：
    - 不需要定义名称，一般函式需定义名称
    - 只能有一行运算式，一般函式可以有多行运算式
    - 执行完成后自动回传结果，不需关键字才能回传结果


## Lambda 语法

|语法|例子|
|:---:|:---|
|没有参数|() -> System.out. println("Hello")|
|一个参数 (s)|s -> System.out. println(s)|
|二个参数 (x, y)|(x, y) -> х +y|
|显式参数型态 (Integer)|(Integer x, Integer y) -> x + y|
|多个语句|(x, y) ->{<br>System.out. println(x);<br>System.out.println(y);<br>return (x + y);<br>}|

## Lambda 函数

### assign

Pandas 中的 **assign** 方法是一种功能强大的工具，可以方便地向 DataFrame 中添加新列，从而提高代码的可读性和易用性。该方法尤其适用于数据转换任务，例如根据现有数据或外部计算结果创建新的衍生列。该方法返回一个新的 DataFrame，而不会修改原始 DataFrame。

```py
df_with_na = pd.DataFrame({
    'A': [1, 2, None, 4],
    'B': [10, None, 30, 40]
})
df_filled = df_with_na.assign(
    A_filled=lambda x: x['A'].fillna(0),
    B_filled=lambda x: x['B'].fillna(x['B'].mean())
)
print(df_filled)
```

### apply

Pandas 中的 **apply** 方法用于对 DataFrame 的某一轴或 Series 中的元素应用某个函数（例如，对 Series（列）应用某个函数）。

```py
import pandas as pd

df = pd.DataFrame({'A': [1, 2, 3], 'B': [4, 5, 6]})

# 将 lambda 函数应用于列
df['C'] = df['A'].apply(lambda x: x * 10)
print(df)

# 将 lambda 函数应用于行 (axis=1)
df['Sum_of_AB'] = df.apply(lambda row: row['A'] + row['B'], axis=1)
print(df)
```

### filter

Python 内置的 **filter** 函数用于从可迭代对象中筛选出满足特定条件（即函数返回True）的元素，并生成一个迭代器。它提供了一种简洁高效的方式来选择序列中符合特定条件的数据项。

```py
numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
# 使用 lambda 函数对数字检查计算结果的余数是否为零
even_numbers = list(filter(lambda x: x % 2 == 0, numbers))
print(even_numbers)
```

### map

Python 中的 **map** 函数是一个非常有用的工具，它可以让你对一个可迭代的物件（如列表、字典、元组等）中的每个元素执行一个函数，并将结果收集起来，形成一个新的可迭代物件。这使得在处理资料时更为方便和高效。

```py
numbers = [1, 2, 3, 4, 5]
# 使用 lambda 函数对数字求平方值
squared_numbers = list(map(lambda x: x**2, numbers))
print(squared_numbers)
```

### reduce

Python 中的 **reduce** 函数位于 functools 模块中，它是一种高阶函数，可以将指定的函数依次应用于可迭代对象的每个元素，最终将所有元素的值累积为一个结果。

```py
from functools import reduce
numbers = [1, 2, 3, 4, 5]
# 使用 lambda 函数对数字求和
total_sum = reduce(lambda x, y: x + y, numbers)
print(total_sum)
```

### sort vs sorted

在 Python 中，可以使用两种主要方法对列表进行排序：列表的 **sort** 方法和内置的 **sorted** 函数。

- list.sort() 方法：
   - 该方法会直接对原始列表进行排序，不会创建新的列表。
   - 默认情况下，它按升序排序。
   - 语法：list_name.sort(reverse=False, key=None)
   - reverse：布尔值参数。设置为 True 表示降序排序，False（默认值）表示升序排序。
   - key：可选参数，接受一个函数。该函数会依次作用于列表中的每个元素，并返回一个用于排序比较的值。


```py
# 按升序排序
numbers = [5, 2, 9, 1, 5, 6]
numbers.sort()  
print(numbers)

# 按降序排序
names = ["Alice", "Bob", "Charlie"]
names.sort(reverse=True) 
print(names)

# 按字符串长度排序
words = ["apple", "banana", "kiwi"]
words.sort(key=len) 
print(words)
```

- sorted() 内置函数：
   - 该函数接受一个可迭代对象（例如列表）作为参数，并返回一个新的已排序列表，原始的可迭代对象保持不变。
   - 默认情况下，它按升序排序。
   - 语法：sorted(可迭代对象, reverse=False, key=None)
   - 可迭代对象：待排序的对象（例如列表、元组、集合）。
   - reverse：与列表的 sort() 方法中的 reverse 参数含义相同。
   - key：与列表的 sort() 方法中的 key 参数含义相同。


```py
original_list = [5, 2, 9, 1]
sorted_list = sorted(original_list)
print(sorted_list)
print(original_list) # 原列表内容保持不变

data = [("apple", 3), ("banana", 1), ("cherry", 2)]
# 按每个元组的第二个元素进行排序
sorted_data = sorted(data, key=lambda item: item[1]) 
print(sorted_data)
```